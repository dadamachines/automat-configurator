<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>automat configurator</title>
  <meta name="description" content="">
  <link rel="icon" type="image/png" href="images/favicon.png">
  <script src="webmidi.js"></script>
  <script src="main.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <header class="automat-tool__header">
    <div class="header__logo">
      <a href="https://dadamachines.com"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path class="frame" d="M77.4 0H0v80h80V0h-2.6zM5.6 74.4V5.6h68.9v68.9l-68.9z"></path><path class="typo" d="M61.4 10.6c-4.4 0-8.1 3.6-8.1 8v50.8h5.6V42.8h5v26.7h5.6v-50.8c0-4.4-3.6-8-8.1-8zm-2.5 26.6v-18.6c0-1.5 1-2.7 2.5-2.7 1.5 0 2.5 1.2 2.5 2.7v18.6l-5 0zM37.4 64V48h2.7a2.7 2.7 0 0 1 2.7 2.7v10.7a2.7 2.7 0 0 1-2.7 2.7m8-13.3a8 8 0 0 0-8-8h-8V69.3h8m0 0a8 8 0 0 0 8-8V50.6M40 10.6c-4.4 0-7.8 3.6-7.8 8v18.6h5v-7.8h5.6v7.8h5v-18.6c0-4.4-3.4-8-7.8-8zm-2.8 13.3v-5.3c0-1.5 1.3-2.7 2.8-2.7 1.5 0 2.8 1.2 2.8 2.7v5.3h-5.6zM16 64v-48h2.7a2.7 2.7 0 0 1 2.7 2.7v42.7a2.7 2.7 0 0 1-2.7 2.7m8-45.3c0-4.4-3.6-8-8-8H10.7v58.7h8a8 8 0 0 0 8-8l0-42.7"></path></svg> </a>
    </div>
    <ul>
      <li><a href="#">Manual</a></li>
      <li><a href="#">Config</a></li>
      <li><a href="#">Play</a></li>
    </ul>

  </header>
  <main>
    <h1 id="ac-headline">automat â€“ configurator</h1>
    <h3 id="connected">automat not connected, please accept web midi and connect automat</h3>
    <p>
      <button onclick="connect()">Reconnect</button>
    </p>
    <hr>
    <h2>output settings</h2>
    <p>Change the behavior of your automat here. Upload settings with "Write config".</p>
    <button class="bb" onclick="readVersion()">Read version</button>
    <button class="bb" onclick="readSysex()">Read config</button>
    <button class="bb" id="save1" disabled onclick="writeSysex(getConfigDataFromForm())">Write config</button>
    <button class="bb" id="save2" onclick="writeSysexConfigToFile(getConfigDataFromForm())">Save to sysex file</button>
    <button class="bb" onclick="readSysexConfigFromFile()">Load from sysex file</button>
    
    <input type="file" id="fileElem" single accept=".syx" style="display:none" onchange="readSysexFile(this.files)">
        
    <p id="version_config">
    <p id="sysex_config" hidden=true>
    </p>
<!--    <form>  -->
        <table class="config__table" style="width:100%; margin-bottom:50px;" align="left" cellpadding="0" cellspacing="0">
                <tr>
                    <th>Output</th>
                    <th>Output Mode</th>
                    <th>Duration</th>
                    <th>Midi Channel</th>
                    <th>Note</th>
                    <th>Test</th>
                </tr>
                <tr>
                    <td><b>1</b></td>
                    <td><select id="v1" onchange="outputModeSanityCheck()" ></td>
                    <td><select id="d1" ></td>
                    <td><select id="m1"></td>
                    <td><select id="n1"></td>
                    <td><button class="trigger" onclick="testNode(1)">test</button></td>
                </tr>
                <tr>
                    <td><b>2</b></td>
                    <td><select id="v2" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d2" ></td>
                    <td><select id="m2"></td>
                    <td><select id="n2"></td>
                    <td><button class="trigger" onclick="testNode(2)">test</button></td>
                </tr>
                <tr>
                    <td><b>3</b></td>
                    <td><select id="v3" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d3" ></td>
                    <td><select id="m3"></td>
                    <td><select id="n3"></td>
                    <td><button class="trigger" onclick="testNode(3)">test</button></td>
                </tr>
                <tr>
                    <td><b>4</b></td>
                    <td><select id="v4" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d4" ></td>
                    <td><select id="m4"></td>
                    <td><select id="n4"></td>
                    <td><button class="trigger" onclick="testNode(4)">test</button></td>
                </tr>
                <tr>
                    <td><b>5</b></td>
                    <td><select id="v5" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d5" ></td>
                    <td><select id="m5"></td>
                    <td><select id="n5"></td>
                    <td><button class="trigger" onclick="testNode(5)">test</button></td>
                </tr>
                <tr>
                    <td><b>6</b></td>
                    <td><select id="v6" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d6" ></td>
                    <td><select id="m6"></td>
                    <td><select id="n6"></td>
                    <td><button class="trigger" onclick="testNode(6)">test</button></td>
                </tr>
                <tr>
                    <td><b>7</b></td>
                    <td><select id="v7" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d7" ></td>
                    <td><select id="m7"></td>
                    <td><select id="n7"></td>
                    <td><button class="trigger" onclick="testNode(7)">test</button></td>
                </tr>
                <tr>
                    <td><b>8</b></td>
                    <td><select id="v8" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d8" ></td>
                    <td><select id="m8"></td>
                    <td><select id="n8"></td>
                    <td><button class="trigger" onclick="testNode(8)">test</button></td>
                </tr>
                <tr>
                    <td><b>9</b></td>
                    <td><select id="v9" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d9" ></td>
                    <td><select id="m9"></td>
                    <td><select id="n9"></td>
                    <td><button class="trigger" onclick="testNode(9)">test</button></td>
                </tr>
                <tr>
                    <td><b>10</b></td>
                    <td><select id="v10" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d10" ></td>
                    <td><select id="m10"></td>
                    <td><select id="n10"></td>
                    <td><button class="trigger" onclick="testNode(10)">test</button></td>
                </tr>
                <tr>
                    <td><b>11</b></td>
                    <td><select id="v11" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d11" ></td>
                    <td><select id="m11"></td>
                    <td><select id="n11"></td>
                    <td><button class="trigger" onclick="testNode(11)">test</button></td>
                </tr>
                <tr>
                    <td><b>12</b></td>
                    <td><select id="v12" onchange="outputModeSanityCheck()"></td>
                    <td><select id="d12" ></td>
                    <td><select id="m12"></td>
                    <td><select id="n12"></td>
                    <td><button class="trigger" onclick="testNode(12)">test</button></td>
                </tr>
            </table>
<!--    </form>  -->
  <hr>
  <p>
  <h2>test settings</h2>
     Velocity
     <select id="tv">
         <option value="10">10</option>
         <option value="64">64</option>
         <option value="96">96</option>
         <option value="127" selected="true">127</option>
     </select>
  </p>
  <hr>
  <p>
    <h2>program change</h2>
    <button onclick="changeProgram(0)">no Velocity (1)</button>
    <button onclick="changeProgram(1)">1.1.0 quad velocity (2)</button>
    <button onclick="changeProgram(2)">1.2.0 inverse quad velocity (3)</button>
    <button onclick="changeProgram(3)">PWM velocity (4)</button>
    <button onclick="changeProgram(4)">continous PWM velocity (5)</button>
    <button onclick="changeProgram(5)">Hum program (modwheel) (6)</button>
    <button onclick="changeProgram(6)">1.4.0 Fixed Duration (7)</button>
  </p>
<hr>
<!--  <p>
    <h2>play</h2>
    <button onclick="playNote(2000,10)">play 2s note (velo 10)</button>
    <button onclick="playNote(2000,64)">play 2s note (velo 64)</button>
    <button onclick="playNote(2000,96)">play 2s note (velo 96)</button>
    <button onclick="playNote(2000,127)">play 2s note (velo 127)</button>
  </p>
<hr>
 -->
<p>
  <h2>credits</h2>
Firmware and configuration tool development with great support of the dadamachines community.</br> Thanks to <a href="https://github.com/lefty71" target="_blank">Justin Pedro</a> and <a href="https://github.com/jellea" target="_blank">Jelle Akkerman</a>
</br>
</br>
</p>

  </main>
</body>
</html>
